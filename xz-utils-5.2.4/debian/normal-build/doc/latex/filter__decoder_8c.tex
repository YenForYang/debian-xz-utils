\section{liblzma/common/filter\+\_\+decoder.c File Reference}
\label{filter__decoder_8c}\index{liblzma/common/filter\+\_\+decoder.\+c@{liblzma/common/filter\+\_\+decoder.\+c}}


Filter ID mapping to filter-\/specific functions.  


{\ttfamily \#include \char`\"{}filter\+\_\+decoder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}filter\+\_\+common.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lzma\+\_\+decoder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lzma2\+\_\+decoder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}simple\+\_\+decoder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}delta\+\_\+decoder.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ lzma\+\_\+filter\+\_\+decoder}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{filter__decoder_8c_afbf0bd59d92526737af9e077759de3ae}} 
static const \textbf{ lzma\+\_\+filter\+\_\+decoder} $\ast$ {\bfseries decoder\+\_\+find} (\textbf{ lzma\+\_\+vli} \textbf{ id})
\item 
\textbf{ lzma\+\_\+bool} \textbf{ lzma\+\_\+filter\+\_\+decoder\+\_\+is\+\_\+supported} (\textbf{ lzma\+\_\+vli} \textbf{ id})
\begin{DoxyCompactList}\small\item\em Test if the given Filter ID is supported for decoding. \end{DoxyCompactList}\item 
\mbox{\label{filter__decoder_8c_afb9c6de5af9b5ef81adad334376640d2}} 
\textbf{ lzma\+\_\+ret} {\bfseries lzma\+\_\+raw\+\_\+decoder\+\_\+init} (\textbf{ lzma\+\_\+next\+\_\+coder} $\ast$next, const \textbf{ lzma\+\_\+allocator} $\ast$allocator, const \textbf{ lzma\+\_\+filter} $\ast$options)
\item 
\textbf{ lzma\+\_\+ret} \textbf{ lzma\+\_\+raw\+\_\+decoder} (\textbf{ lzma\+\_\+stream} $\ast$\textbf{ strm}, const \textbf{ lzma\+\_\+filter} $\ast$options)
\begin{DoxyCompactList}\small\item\em Initialize raw decoder. \end{DoxyCompactList}\item 
uint64\+\_\+t \textbf{ lzma\+\_\+raw\+\_\+decoder\+\_\+memusage} (const \textbf{ lzma\+\_\+filter} $\ast$\textbf{ filters})
\begin{DoxyCompactList}\small\item\em Calculate approximate memory requirements for raw decoder. \end{DoxyCompactList}\item 
\textbf{ lzma\+\_\+ret} \textbf{ lzma\+\_\+properties\+\_\+decode} (\textbf{ lzma\+\_\+filter} $\ast$filter, const \textbf{ lzma\+\_\+allocator} $\ast$allocator, const uint8\+\_\+t $\ast$props, size\+\_\+t props\+\_\+size)
\begin{DoxyCompactList}\small\item\em Decode the Filter Properties field. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{filter__decoder_8c_a21d3250423ab7f69d47731bfede5e1c8}} 
static const \textbf{ lzma\+\_\+filter\+\_\+decoder} {\bfseries decoders} [$\,$]
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Filter ID mapping to filter-\/specific functions. 



\subsection{Function Documentation}
\mbox{\label{filter__decoder_8c_ad930583b7cd35258f837218ed08ad519}} 
\index{filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}!lzma\+\_\+filter\+\_\+decoder\+\_\+is\+\_\+supported@{lzma\+\_\+filter\+\_\+decoder\+\_\+is\+\_\+supported}}
\index{lzma\+\_\+filter\+\_\+decoder\+\_\+is\+\_\+supported@{lzma\+\_\+filter\+\_\+decoder\+\_\+is\+\_\+supported}!filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}}
\subsubsection{lzma\+\_\+filter\+\_\+decoder\+\_\+is\+\_\+supported()}
{\footnotesize\ttfamily \textbf{ lzma\+\_\+bool} lzma\+\_\+filter\+\_\+decoder\+\_\+is\+\_\+supported (\begin{DoxyParamCaption}\item[{\textbf{ lzma\+\_\+vli}}]{id }\end{DoxyParamCaption}) const}



Test if the given Filter ID is supported for decoding. 

Return true if the give Filter ID is supported for decoding by this liblzma build. Otherwise false is returned. \mbox{\label{filter__decoder_8c_a387ecaa6c881a89021cf577d719490bb}} 
\index{filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}!lzma\+\_\+raw\+\_\+decoder@{lzma\+\_\+raw\+\_\+decoder}}
\index{lzma\+\_\+raw\+\_\+decoder@{lzma\+\_\+raw\+\_\+decoder}!filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}}
\subsubsection{lzma\+\_\+raw\+\_\+decoder()}
{\footnotesize\ttfamily \textbf{ lzma\+\_\+ret} lzma\+\_\+raw\+\_\+decoder (\begin{DoxyParamCaption}\item[{\textbf{ lzma\+\_\+stream} $\ast$}]{strm,  }\item[{const \textbf{ lzma\+\_\+filter} $\ast$}]{filters }\end{DoxyParamCaption})}



Initialize raw decoder. 

The initialization of raw decoder goes similarly to raw encoder.

The `action\textquotesingle{} with \doxyref{lzma\+\_\+code()}{p.}{base_8h_a28cc09bc422d5ba1e0187c9f2af5d957} can be L\+Z\+M\+A\+\_\+\+R\+UN or L\+Z\+M\+A\+\_\+\+F\+I\+N\+I\+SH. Using L\+Z\+M\+A\+\_\+\+F\+I\+N\+I\+SH is not required, it is supported just for convenience.

\begin{DoxyReturn}{Returns}
-\/ L\+Z\+M\+A\+\_\+\+OK
\begin{DoxyItemize}
\item L\+Z\+M\+A\+\_\+\+M\+E\+M\+\_\+\+E\+R\+R\+OR
\item L\+Z\+M\+A\+\_\+\+O\+P\+T\+I\+O\+N\+S\+\_\+\+E\+R\+R\+OR
\item L\+Z\+M\+A\+\_\+\+P\+R\+O\+G\+\_\+\+E\+R\+R\+OR 
\end{DoxyItemize}
\end{DoxyReturn}


References lzma\+\_\+next\+\_\+strm\+\_\+init.

\mbox{\label{filter__decoder_8c_aeb9d987a56f532c873031a259933780a}} 
\index{filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}!lzma\+\_\+raw\+\_\+decoder\+\_\+memusage@{lzma\+\_\+raw\+\_\+decoder\+\_\+memusage}}
\index{lzma\+\_\+raw\+\_\+decoder\+\_\+memusage@{lzma\+\_\+raw\+\_\+decoder\+\_\+memusage}!filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}}
\subsubsection{lzma\+\_\+raw\+\_\+decoder\+\_\+memusage()}
{\footnotesize\ttfamily uint64\+\_\+t lzma\+\_\+raw\+\_\+decoder\+\_\+memusage (\begin{DoxyParamCaption}\item[{const \textbf{ lzma\+\_\+filter} $\ast$}]{filters }\end{DoxyParamCaption})}



Calculate approximate memory requirements for raw decoder. 

This function can be used to calculate the memory requirements for Block and Stream decoders too because Block and Stream decoders don\textquotesingle{}t need significantly more memory than raw decoder.


\begin{DoxyParams}{Parameters}
{\em filters} & Array of filters terminated with .id == L\+Z\+M\+A\+\_\+\+V\+L\+I\+\_\+\+U\+N\+K\+N\+O\+WN.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes of memory required for the given filter chain when decoding. If an error occurs, for example due to unsupported filter chain, U\+I\+N\+T64\+\_\+\+M\+AX is returned. 
\end{DoxyReturn}
\mbox{\label{filter__decoder_8c_a635078a694b22a3e5fc36b1fa643a704}} 
\index{filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}!lzma\+\_\+properties\+\_\+decode@{lzma\+\_\+properties\+\_\+decode}}
\index{lzma\+\_\+properties\+\_\+decode@{lzma\+\_\+properties\+\_\+decode}!filter\+\_\+decoder.\+c@{filter\+\_\+decoder.\+c}}
\subsubsection{lzma\+\_\+properties\+\_\+decode()}
{\footnotesize\ttfamily \textbf{ lzma\+\_\+ret} lzma\+\_\+properties\+\_\+decode (\begin{DoxyParamCaption}\item[{\textbf{ lzma\+\_\+filter} $\ast$}]{filter,  }\item[{const \textbf{ lzma\+\_\+allocator} $\ast$}]{allocator,  }\item[{const uint8\+\_\+t $\ast$}]{props,  }\item[{size\+\_\+t}]{props\+\_\+size }\end{DoxyParamCaption})}



Decode the Filter Properties field. 


\begin{DoxyParams}{Parameters}
{\em filter} & filter-\/$>$id must have been set to the correct Filter ID. filter-\/$>$options doesn\textquotesingle{}t need to be initialized (it\textquotesingle{}s not freed by this function). The decoded options will be stored to filter-\/$>$options. filter-\/$>$options is set to N\+U\+LL if there are no properties or if an error occurs. \\
\hline
{\em allocator} & Custom memory allocator used to allocate the options. Set to N\+U\+LL to use the default malloc(), and in case of an error, also free(). \\
\hline
{\em props} & Input buffer containing the properties. \\
\hline
{\em props\+\_\+size} & Size of the properties. This must be the exact size; giving too much or too little input will return L\+Z\+M\+A\+\_\+\+O\+P\+T\+I\+O\+N\+S\+\_\+\+E\+R\+R\+OR.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ L\+Z\+M\+A\+\_\+\+OK
\begin{DoxyItemize}
\item L\+Z\+M\+A\+\_\+\+O\+P\+T\+I\+O\+N\+S\+\_\+\+E\+R\+R\+OR
\item L\+Z\+M\+A\+\_\+\+M\+E\+M\+\_\+\+E\+R\+R\+OR 
\end{DoxyItemize}
\end{DoxyReturn}
