<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XZ Utils: liblzma/common/common.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XZ Utils
   &#160;<span id="projectnumber">5.2.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2e0898c272e1f0f93c8ef15f5da2a912.html">liblzma</a></li><li class="navelem"><a class="el" href="dir_db777975f8e21a5de5f283e04473bf67.html">common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">common.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common functions needed in many places in liblzma.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sysdefs_8h.html">sysdefs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mythread_8h.html">mythread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tuklib__integer_8h.html">tuklib_integer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lzma_8h.html">lzma.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlzma__filter__info__s.html">lzma_filter_info_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlzma__next__coder__s.html">lzma_next_coder_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hold data and function pointers of the next filter in the chain.  <a href="structlzma__next__coder__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlzma__internal__s.html">lzma_internal_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aea970a4daa1798994b600e03da8955d1"><td class="memItemLeft" align="right" valign="top"><a id="aea970a4daa1798994b600e03da8955d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LZMA_API_EXPORT</b></td></tr>
<tr class="separator:aea970a4daa1798994b600e03da8955d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd99ac68c941953a426e005b4af82dc"><td class="memItemLeft" align="right" valign="top"><a id="abfd99ac68c941953a426e005b4af82dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LZMA_API</b>(type)&#160;&#160;&#160;LZMA_API_EXPORT type LZMA_API_CALL</td></tr>
<tr class="separator:abfd99ac68c941953a426e005b4af82dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0672ea7123854cc5f51902a06c473fb"><td class="memItemLeft" align="right" valign="top"><a id="aa0672ea7123854cc5f51902a06c473fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>likely</b>(expr)&#160;&#160;&#160;(expr)</td></tr>
<tr class="separator:aa0672ea7123854cc5f51902a06c473fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8700448546b3b5111404cc021061fd5"><td class="memItemLeft" align="right" valign="top"><a id="ad8700448546b3b5111404cc021061fd5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>unlikely</b>(expr)&#160;&#160;&#160;(expr)</td></tr>
<tr class="separator:ad8700448546b3b5111404cc021061fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b621fc6aec40a92c6bcef56a7994ae7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a1b621fc6aec40a92c6bcef56a7994ae7">LZMA_BUFFER_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:a1b621fc6aec40a92c6bcef56a7994ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of temporary buffers needed in some filters.  <a href="#a1b621fc6aec40a92c6bcef56a7994ae7">More...</a><br /></td></tr>
<tr class="separator:a1b621fc6aec40a92c6bcef56a7994ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4b23f9eb51a547255386963c9ff0529"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#aa4b23f9eb51a547255386963c9ff0529">LZMA_THREADS_MAX</a>&#160;&#160;&#160;16384</td></tr>
<tr class="separator:aa4b23f9eb51a547255386963c9ff0529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4e3d305aea4ca9f30c5a05b3ad7570"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a3c4e3d305aea4ca9f30c5a05b3ad7570">LZMA_MEMUSAGE_BASE</a>&#160;&#160;&#160;(UINT64_C(1) &lt;&lt; 15)</td></tr>
<tr class="separator:a3c4e3d305aea4ca9f30c5a05b3ad7570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d12a2d492921171aab3404ca56a55c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a50d12a2d492921171aab3404ca56a55c">LZMA_FILTER_RESERVED_START</a>&#160;&#160;&#160;(<a class="el" href="vli_8h.html#a2d8bf5322898bfa11945848420585881">LZMA_VLI_C</a>(1) &lt;&lt; 62)</td></tr>
<tr class="separator:a50d12a2d492921171aab3404ca56a55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3469962f4605c82d5ccff2b1a8cd91a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a3469962f4605c82d5ccff2b1a8cd91a1">LZMA_SUPPORTED_FLAGS</a></td></tr>
<tr class="separator:a3469962f4605c82d5ccff2b1a8cd91a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a688bb202234b7ce0eb4c3541b340c051"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a688bb202234b7ce0eb4c3541b340c051">LZMA_ACTION_MAX</a>&#160;&#160;&#160;((unsigned int)(<a class="el" href="base_8h.html#aa92efcbf3cecfcac79c81fc645fce77eaf7bf60e3555a4d10ffad3ecc3d2e01f1">LZMA_FULL_BARRIER</a>))</td></tr>
<tr class="memdesc:a688bb202234b7ce0eb4c3541b340c051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Largest valid lzma_action value as unsigned integer.  <a href="#a688bb202234b7ce0eb4c3541b340c051">More...</a><br /></td></tr>
<tr class="separator:a688bb202234b7ce0eb4c3541b340c051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a83432c1a68661c54047121d17197dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a5a83432c1a68661c54047121d17197dd">LZMA_TIMED_OUT</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a5a83432c1a68661c54047121d17197dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fca27f3d292f89fffbf7162d34a5bc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a1fca27f3d292f89fffbf7162d34a5bc3">LZMA_NEXT_CODER_INIT</a></td></tr>
<tr class="memdesc:a1fca27f3d292f89fffbf7162d34a5bc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to initialize lzma_next_coder structure.  <a href="#a1fca27f3d292f89fffbf7162d34a5bc3">More...</a><br /></td></tr>
<tr class="separator:a1fca27f3d292f89fffbf7162d34a5bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e1bf9f33b917e883b886b8a10458d66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a3e1bf9f33b917e883b886b8a10458d66">return_if_error</a>(expr)</td></tr>
<tr class="memdesc:a3e1bf9f33b917e883b886b8a10458d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if expression doesn't evaluate to LZMA_OK.  <a href="#a3e1bf9f33b917e883b886b8a10458d66">More...</a><br /></td></tr>
<tr class="separator:a3e1bf9f33b917e883b886b8a10458d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e5a35bc05ca572acdae55a294c8cc89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a4e5a35bc05ca572acdae55a294c8cc89">lzma_next_coder_init</a>(func,  next,  allocator)</td></tr>
<tr class="separator:a4e5a35bc05ca572acdae55a294c8cc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844da62faaaf4c19a9a297129bc30a8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a844da62faaaf4c19a9a297129bc30a8c">lzma_next_strm_init</a>(func,  <a class="el" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>, ...)</td></tr>
<tr class="separator:a844da62faaaf4c19a9a297129bc30a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a734a9065645913446bd51d3a276b2c94"><td class="memItemLeft" align="right" valign="top"><a id="a734a9065645913446bd51d3a276b2c94"></a>
typedef struct <a class="el" href="structlzma__next__coder__s.html">lzma_next_coder_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>lzma_next_coder</b></td></tr>
<tr class="separator:a734a9065645913446bd51d3a276b2c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce19774e821baaff5d300663dc9e8d0"><td class="memItemLeft" align="right" valign="top"><a id="afce19774e821baaff5d300663dc9e8d0"></a>
typedef struct <a class="el" href="structlzma__filter__info__s.html">lzma_filter_info_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>lzma_filter_info</b></td></tr>
<tr class="separator:afce19774e821baaff5d300663dc9e8d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc88670cdd1a06325fc3710db6e98bc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a8dc88670cdd1a06325fc3710db6e98bc">lzma_init_function</a>) (<a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *next, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator, const <a class="el" href="structlzma__filter__info__s.html">lzma_filter_info</a> *<a class="el" href="coder_8c.html#a9325236d5759d4eaadcba08a6bb5c96f">filters</a>)</td></tr>
<tr class="memdesc:a8dc88670cdd1a06325fc3710db6e98bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a function used to initialize a filter encoder or decoder.  <a href="#a8dc88670cdd1a06325fc3710db6e98bc">More...</a><br /></td></tr>
<tr class="separator:a8dc88670cdd1a06325fc3710db6e98bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7002df828a3550687620deca32120c89"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a7002df828a3550687620deca32120c89">lzma_code_function</a>) (void *coder, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator, const uint8_t *restrict in, size_t *restrict in_pos, size_t in_size, uint8_t *restrict out, size_t *restrict out_pos, size_t out_size, <a class="el" href="base_8h.html#aa92efcbf3cecfcac79c81fc645fce77e">lzma_action</a> action)</td></tr>
<tr class="separator:a7002df828a3550687620deca32120c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f7c71e8c7f980775ba05444bf5ad89"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#ad3f7c71e8c7f980775ba05444bf5ad89">lzma_end_function</a>) (void *coder, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator)</td></tr>
<tr class="memdesc:ad3f7c71e8c7f980775ba05444bf5ad89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a function to free the memory allocated for the coder.  <a href="#ad3f7c71e8c7f980775ba05444bf5ad89">More...</a><br /></td></tr>
<tr class="separator:ad3f7c71e8c7f980775ba05444bf5ad89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9749605a4202f4b3d4323a41f693c997"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a9749605a4202f4b3d4323a41f693c997">lzma_alloc</a> (size_t size, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator) <a class="el" href="memcmplen_8h.html#a157d11c2c46feafcc7a602313ff1a1e6">lzma_attribute</a>((__malloc__)) lzma_attr_alloc_size(1)</td></tr>
<tr class="memdesc:a9749605a4202f4b3d4323a41f693c997"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory.  <a href="#a9749605a4202f4b3d4323a41f693c997">More...</a><br /></td></tr>
<tr class="separator:a9749605a4202f4b3d4323a41f693c997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c976bb0fab08d506aadacd45936f63"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a54c976bb0fab08d506aadacd45936f63">lzma_attribute</a> ((__malloc__)) lzma_attr_alloc_size(1) lzma_alloc_zero(size_t size</td></tr>
<tr class="separator:a54c976bb0fab08d506aadacd45936f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5505ba477682a9fa6009b54540c6f9d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a5505ba477682a9fa6009b54540c6f9d0">lzma_free</a> (void *ptr, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator)</td></tr>
<tr class="memdesc:a5505ba477682a9fa6009b54540c6f9d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees memory.  <a href="#a5505ba477682a9fa6009b54540c6f9d0">More...</a><br /></td></tr>
<tr class="separator:a5505ba477682a9fa6009b54540c6f9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83455498798efe8409f8b9f11a77b2aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a83455498798efe8409f8b9f11a77b2aa">lzma_strm_init</a> (<a class="el" href="structlzma__stream.html">lzma_stream</a> *<a class="el" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>)</td></tr>
<tr class="separator:a83455498798efe8409f8b9f11a77b2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2428177b22ae4ca339dd49d9cb72ddfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a2428177b22ae4ca339dd49d9cb72ddfa">lzma_next_filter_init</a> (<a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *next, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator, const <a class="el" href="structlzma__filter__info__s.html">lzma_filter_info</a> *<a class="el" href="coder_8c.html#a9325236d5759d4eaadcba08a6bb5c96f">filters</a>)</td></tr>
<tr class="separator:a2428177b22ae4ca339dd49d9cb72ddfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9217b1205dd81f29363b4df1155152"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#aaa9217b1205dd81f29363b4df1155152">lzma_next_filter_update</a> (<a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *next, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator, const <a class="el" href="structlzma__filter.html">lzma_filter</a> *reversed_filters)</td></tr>
<tr class="separator:aaa9217b1205dd81f29363b4df1155152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae000b50b68fda291c15fb61cde902dcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#ae000b50b68fda291c15fb61cde902dcc">lzma_next_end</a> (<a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *next, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator)</td></tr>
<tr class="separator:ae000b50b68fda291c15fb61cde902dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffbf0181223d38d596508a3b47488b0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_8h.html#a9ffbf0181223d38d596508a3b47488b0">lzma_bufcpy</a> (const uint8_t *restrict in, size_t *restrict in_pos, size_t in_size, uint8_t *restrict out, size_t *restrict out_pos, size_t out_size)</td></tr>
<tr class="separator:a9ffbf0181223d38d596508a3b47488b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af0e1768cbc158eaecee14b19f6f49d82"><td class="memItemLeft" align="right" valign="top"><a id="af0e1768cbc158eaecee14b19f6f49d82"></a>
void const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>allocator</b></td></tr>
<tr class="separator:af0e1768cbc158eaecee14b19f6f49d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common functions needed in many places in liblzma. </p>
<p>Definitions common to the whole liblzma library.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1b621fc6aec40a92c6bcef56a7994ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b621fc6aec40a92c6bcef56a7994ae7">&#9670;&nbsp;</a></span>LZMA_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_BUFFER_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of temporary buffers needed in some filters. </p>

</div>
</div>
<a id="aa4b23f9eb51a547255386963c9ff0529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4b23f9eb51a547255386963c9ff0529">&#9670;&nbsp;</a></span>LZMA_THREADS_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_THREADS_MAX&#160;&#160;&#160;16384</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of worker threads within one multithreaded component. The limit exists solely to make it simpler to prevent integer overflows when allocating structures etc. This should be big enough for now... the code won't scale anywhere close to this number anyway. </p>

<p class="reference">Referenced by <a class="el" href="stream__encoder__mt_8c.html#ad604ebedc1e6378d9ea187caab98e742">get_options()</a>.</p>

</div>
</div>
<a id="a3c4e3d305aea4ca9f30c5a05b3ad7570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c4e3d305aea4ca9f30c5a05b3ad7570">&#9670;&nbsp;</a></span>LZMA_MEMUSAGE_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_MEMUSAGE_BASE&#160;&#160;&#160;(UINT64_C(1) &lt;&lt; 15)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starting value for memory usage estimates. Instead of calculating size of <em>every</em> structure and taking into account malloc() overhead etc., we add a base size to all memory usage estimates. It's not very accurate but should be easily good enough. </p>

</div>
</div>
<a id="a50d12a2d492921171aab3404ca56a55c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50d12a2d492921171aab3404ca56a55c">&#9670;&nbsp;</a></span>LZMA_FILTER_RESERVED_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_FILTER_RESERVED_START&#160;&#160;&#160;(<a class="el" href="vli_8h.html#a2d8bf5322898bfa11945848420585881">LZMA_VLI_C</a>(1) &lt;&lt; 62)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start of internal Filter ID space. These IDs must never be used in Streams. </p>

<p class="reference">Referenced by <a class="el" href="filter__flags__encoder_8c.html#a7015967aa324750a66c788b1987aa6a5">lzma_filter_flags_encode()</a>, and <a class="el" href="filter__flags__encoder_8c.html#a23a84602614b62ba2c9241149fd89087">lzma_filter_flags_size()</a>.</p>

</div>
</div>
<a id="a3469962f4605c82d5ccff2b1a8cd91a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3469962f4605c82d5ccff2b1a8cd91a1">&#9670;&nbsp;</a></span>LZMA_SUPPORTED_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_SUPPORTED_FLAGS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">( <a class="code" href="container_8h.html#ada9cd20febb28b5ed6656de9184a86e9">LZMA_TELL_NO_CHECK</a> \</div><div class="line">        | <a class="code" href="container_8h.html#ae21fb746037c82735d40d428c462e078">LZMA_TELL_UNSUPPORTED_CHECK</a> \</div><div class="line">        | <a class="code" href="container_8h.html#a0bdde702a77ff42b90a99c0bf4147b6b">LZMA_TELL_ANY_CHECK</a> \</div><div class="line">        | <a class="code" href="container_8h.html#a1289925ae1c63a8e86f69f3657118a4d">LZMA_IGNORE_CHECK</a> \</div><div class="line">        | <a class="code" href="container_8h.html#a563c84b5f368b3dd00d92ea903c5c33d">LZMA_CONCATENATED</a> )</div><div class="ttc" id="container_8h_html_a563c84b5f368b3dd00d92ea903c5c33d"><div class="ttname"><a href="container_8h.html#a563c84b5f368b3dd00d92ea903c5c33d">LZMA_CONCATENATED</a></div><div class="ttdeci">#define LZMA_CONCATENATED</div><div class="ttdef"><b>Definition:</b> container.h:515</div></div>
<div class="ttc" id="container_8h_html_a0bdde702a77ff42b90a99c0bf4147b6b"><div class="ttname"><a href="container_8h.html#a0bdde702a77ff42b90a99c0bf4147b6b">LZMA_TELL_ANY_CHECK</a></div><div class="ttdeci">#define LZMA_TELL_ANY_CHECK</div><div class="ttdef"><b>Definition:</b> container.h:474</div></div>
<div class="ttc" id="container_8h_html_ae21fb746037c82735d40d428c462e078"><div class="ttname"><a href="container_8h.html#ae21fb746037c82735d40d428c462e078">LZMA_TELL_UNSUPPORTED_CHECK</a></div><div class="ttdeci">#define LZMA_TELL_UNSUPPORTED_CHECK</div><div class="ttdef"><b>Definition:</b> container.h:466</div></div>
<div class="ttc" id="container_8h_html_a1289925ae1c63a8e86f69f3657118a4d"><div class="ttname"><a href="container_8h.html#a1289925ae1c63a8e86f69f3657118a4d">LZMA_IGNORE_CHECK</a></div><div class="ttdeci">#define LZMA_IGNORE_CHECK</div><div class="ttdef"><b>Definition:</b> container.h:498</div></div>
<div class="ttc" id="container_8h_html_ada9cd20febb28b5ed6656de9184a86e9"><div class="ttname"><a href="container_8h.html#ada9cd20febb28b5ed6656de9184a86e9">LZMA_TELL_NO_CHECK</a></div><div class="ttdeci">#define LZMA_TELL_NO_CHECK</div><div class="ttdef"><b>Definition:</b> container.h:457</div></div>
</div><!-- fragment --><p>Supported flags that can be passed to <a class="el" href="container_8h.html#a02b7683ef98d8049788961370a8b28c0" title="Initialize .xz Stream decoder. ">lzma_stream_decoder()</a> or <a class="el" href="container_8h.html#a21cbebf2771617bb1e956385cfb353e3" title="Decode .xz Streams and .lzma files with autodetection. ">lzma_auto_decoder()</a>. </p>

</div>
</div>
<a id="a688bb202234b7ce0eb4c3541b340c051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a688bb202234b7ce0eb4c3541b340c051">&#9670;&nbsp;</a></span>LZMA_ACTION_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_ACTION_MAX&#160;&#160;&#160;((unsigned int)(<a class="el" href="base_8h.html#aa92efcbf3cecfcac79c81fc645fce77eaf7bf60e3555a4d10ffad3ecc3d2e01f1">LZMA_FULL_BARRIER</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Largest valid lzma_action value as unsigned integer. </p>

<p class="reference">Referenced by <a class="el" href="base_8h.html#a28cc09bc422d5ba1e0187c9f2af5d957">lzma_code()</a>.</p>

</div>
</div>
<a id="a5a83432c1a68661c54047121d17197dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a83432c1a68661c54047121d17197dd">&#9670;&nbsp;</a></span>LZMA_TIMED_OUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_TIMED_OUT&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Special return value (lzma_ret) to indicate that a timeout was reached and <a class="el" href="base_8h.html#a28cc09bc422d5ba1e0187c9f2af5d957" title="Encode or decode data. ">lzma_code()</a> must not return LZMA_BUF_ERROR. This is converted to LZMA_OK in <a class="el" href="base_8h.html#a28cc09bc422d5ba1e0187c9f2af5d957" title="Encode or decode data. ">lzma_code()</a>. This is not in the lzma_ret enumeration because there's no need to have it in the public API. </p>

</div>
</div>
<a id="a1fca27f3d292f89fffbf7162d34a5bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fca27f3d292f89fffbf7162d34a5bc3">&#9670;&nbsp;</a></span>LZMA_NEXT_CODER_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LZMA_NEXT_CODER_INIT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="structlzma__next__coder__s.html">lzma_next_coder</a>){ \</div><div class="line">                .coder = NULL, \</div><div class="line">                .init = (uintptr_t)(NULL), \</div><div class="line">                .id = <a class="code" href="vli_8h.html#a5a4b28254a30c859018b896ed371d69a">LZMA_VLI_UNKNOWN</a>, \</div><div class="line">                .code = NULL, \</div><div class="line">                .end = NULL, \</div><div class="line">                .get_progress = NULL, \</div><div class="line">                .get_check = NULL, \</div><div class="line">                .memconfig = NULL, \</div><div class="line">                .update = NULL, \</div><div class="line">        }</div><div class="ttc" id="vli_8h_html_a5a4b28254a30c859018b896ed371d69a"><div class="ttname"><a href="vli_8h.html#a5a4b28254a30c859018b896ed371d69a">LZMA_VLI_UNKNOWN</a></div><div class="ttdeci">#define LZMA_VLI_UNKNOWN</div><div class="ttdoc">VLI value to denote that the value is unknown. </div><div class="ttdef"><b>Definition:</b> vli.h:39</div></div>
<div class="ttc" id="structlzma__next__coder__s_html"><div class="ttname"><a href="structlzma__next__coder__s.html">lzma_next_coder_s</a></div><div class="ttdoc">Hold data and function pointers of the next filter in the chain. </div><div class="ttdef"><b>Definition:</b> common.h:135</div></div>
</div><!-- fragment -->
<p>Macro to initialize lzma_next_coder structure. </p>

<p class="reference">Referenced by <a class="el" href="stream__encoder__mt_8c.html#a8eecf683f4621bd503be1b46300f0054">initialize_new_thread()</a>, <a class="el" href="common_8h.html#ae000b50b68fda291c15fb61cde902dcc">lzma_next_end()</a>, and <a class="el" href="common_8h.html#a83455498798efe8409f8b9f11a77b2aa">lzma_strm_init()</a>.</p>

</div>
</div>
<a id="a3e1bf9f33b917e883b886b8a10458d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e1bf9f33b917e883b886b8a10458d66">&#9670;&nbsp;</a></span>return_if_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define return_if_error</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        const <a class="code" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a> ret_ = (expr); \</div><div class="line">        if (ret_ != <a class="code" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe">LZMA_OK</a>) \</div><div class="line">                return ret_; \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="base_8h_html_a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe"><div class="ttname"><a href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe">LZMA_OK</a></div><div class="ttdoc">Operation completed successfully. </div><div class="ttdef"><b>Definition:</b> base.h:58</div></div>
<div class="ttc" id="base_8h_html_a8494e0457e1463d6d2b6836018d87b6e"><div class="ttname"><a href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a></div><div class="ttdeci">lzma_ret</div><div class="ttdoc">Return values used by several functions in liblzma. </div><div class="ttdef"><b>Definition:</b> base.h:57</div></div>
</div><!-- fragment -->
<p>Return if expression doesn't evaluate to LZMA_OK. </p>
<p>There are several situations where we want to return immediately with the value of expr if it isn't LZMA_OK. This macro shortens the code a little. </p>

<p class="reference">Referenced by <a class="el" href="block__header__encoder_8c.html#a01a1e06f40b56d8ca61ac577e77a4fec">lzma_block_header_encode()</a>, <a class="el" href="block__header__encoder_8c.html#a7d60c35cba687af87e3c3a83639b2f6d">lzma_block_header_size()</a>, <a class="el" href="lzma__decoder_8c.html#afb9e2b012fae81f1fb0263eac4422a22">lzma_decoder_init()</a>, <a class="el" href="filter__flags__encoder_8c.html#a7015967aa324750a66c788b1987aa6a5">lzma_filter_flags_encode()</a>, <a class="el" href="filter__flags__encoder_8c.html#a23a84602614b62ba2c9241149fd89087">lzma_filter_flags_size()</a>, <a class="el" href="index__decoder_8c.html#ab182a5bf92f68c23cbadbefd1d9942fc">lzma_index_buffer_decode()</a>, <a class="el" href="index__hash_8c.html#a29b6194063af60c27dab0309b793598a">lzma_index_hash_append()</a>, <a class="el" href="index__hash_8c.html#aedf75aefbcc0b3263898afbb9cab3ef5">lzma_index_hash_decode()</a>, and <a class="el" href="index_8c.html#ad427e6894af982f7443c677bfbe4b856">lzma_index_stream_flags()</a>.</p>

</div>
</div>
<a id="a4e5a35bc05ca572acdae55a294c8cc89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e5a35bc05ca572acdae55a294c8cc89">&#9670;&nbsp;</a></span>lzma_next_coder_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lzma_next_coder_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">next, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">allocator&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        if ((uintptr_t)(func) != (next)-&gt;init) \</div><div class="line">                lzma_next_end(next, allocator); \</div><div class="line">        (next)-&gt;init = (uintptr_t)(func); \</div><div class="line">} <span class="keywordflow">while</span> (0)</div></div><!-- fragment --><p>If next isn't already initialized, free the previous coder. Then mark that next is <em>possibly</em> initialized for the coder using this macro. "Possibly" means that if e.g. allocation of next-&gt;coder fails, the structure isn't actually initialized for this coder, but leaving next-&gt;init to func is still OK. </p>

<p class="reference">Referenced by <a class="el" href="common_8h.html#a2428177b22ae4ca339dd49d9cb72ddfa">lzma_next_filter_init()</a>.</p>

</div>
</div>
<a id="a844da62faaaf4c19a9a297129bc30a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a844da62faaaf4c19a9a297129bc30a8c">&#9670;&nbsp;</a></span>lzma_next_strm_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lzma_next_strm_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">        return_if_error(<a class="code" href="common_8h.html#a83455498798efe8409f8b9f11a77b2aa">lzma_strm_init</a>(<a class="code" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>)); \</div><div class="line">        const <a class="code" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a> ret_ = func(&amp;(<a class="code" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>)-&gt;internal-&gt;next, \</div><div class="line">                        (<a class="code" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>)-&gt;allocator, __VA_ARGS__); \</div><div class="line">        if (ret_ != <a class="code" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe">LZMA_OK</a>) { \</div><div class="line">                lzma_end(<a class="code" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>); \</div><div class="line">                return ret_; \</div><div class="line">        } \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="coder_8c_html_a048a6ae6a7da50de565b15d52ea9fafe"><div class="ttname"><a href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a></div><div class="ttdeci">static lzma_stream strm</div><div class="ttdoc">Stream used to communicate with liblzma. </div><div class="ttdef"><b>Definition:</b> coder.c:33</div></div>
<div class="ttc" id="base_8h_html_a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe"><div class="ttname"><a href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe">LZMA_OK</a></div><div class="ttdoc">Operation completed successfully. </div><div class="ttdef"><b>Definition:</b> base.h:58</div></div>
<div class="ttc" id="common_8h_html_a83455498798efe8409f8b9f11a77b2aa"><div class="ttname"><a href="common_8h.html#a83455498798efe8409f8b9f11a77b2aa">lzma_strm_init</a></div><div class="ttdeci">lzma_ret lzma_strm_init(lzma_stream *strm)</div><div class="ttdef"><b>Definition:</b> common.c:209</div></div>
<div class="ttc" id="base_8h_html_a8494e0457e1463d6d2b6836018d87b6e"><div class="ttname"><a href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a></div><div class="ttdeci">lzma_ret</div><div class="ttdoc">Return values used by several functions in liblzma. </div><div class="ttdef"><b>Definition:</b> base.h:57</div></div>
</div><!-- fragment --><p>Initializes lzma_strm and calls func() to initialize strm-&gt;internal-&gt;next. (The function being called will use <a class="el" href="common_8h.html#a4e5a35bc05ca572acdae55a294c8cc89">lzma_next_coder_init()</a>). If initialization fails, memory that wasn't freed by func() is freed along strm-&gt;internal. </p>

<p class="reference">Referenced by <a class="el" href="alone__decoder_8c.html#a557f24c908c5a192dc55f5f9e7674536">lzma_alone_decoder()</a>, <a class="el" href="container_8h.html#a26fcc5bccdf3f862caa4c992d01e1a72">lzma_alone_encoder()</a>, <a class="el" href="auto__decoder_8c.html#a9e11aae50c8b28fdff631a16af8dbfc7">lzma_auto_decoder()</a>, <a class="el" href="block__decoder_8c.html#a2a1807b69c59fc4bd87744647700eb2d">lzma_block_decoder()</a>, <a class="el" href="block__encoder_8c.html#a933285cbceb03c0e2507f8e0bb737a79">lzma_block_encoder()</a>, <a class="el" href="index__decoder_8c.html#a8a43bb2ce4b3d5165db980fcdaa0a5ce">lzma_index_decoder()</a>, <a class="el" href="index__encoder_8c.html#ad1398e64633414d8f50e6ae5432958e2">lzma_index_encoder()</a>, <a class="el" href="filter__decoder_8c.html#a387ecaa6c881a89021cf577d719490bb">lzma_raw_decoder()</a>, <a class="el" href="filter__encoder_8c.html#aed21808fcea4df30f742c5369627f731">lzma_raw_encoder()</a>, <a class="el" href="stream__decoder_8c.html#aa251bc5b49846a1096f934d774157250">lzma_stream_decoder()</a>, <a class="el" href="stream__encoder_8c.html#a19acfa3822b05132cd81edc010fe2272">lzma_stream_encoder()</a>, and <a class="el" href="stream__encoder__mt_8c.html#a78e5d297f2b9aa439b69312a0e0fdf88">lzma_stream_encoder_mt()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8dc88670cdd1a06325fc3710db6e98bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc88670cdd1a06325fc3710db6e98bc">&#9670;&nbsp;</a></span>lzma_init_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a>(* lzma_init_function) (<a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *next, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator, const <a class="el" href="structlzma__filter__info__s.html">lzma_filter_info</a> *<a class="el" href="coder_8c.html#a9325236d5759d4eaadcba08a6bb5c96f">filters</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a function used to initialize a filter encoder or decoder. </p>

</div>
</div>
<a id="a7002df828a3550687620deca32120c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7002df828a3550687620deca32120c89">&#9670;&nbsp;</a></span>lzma_code_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a>(* lzma_code_function) (void *coder, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator, const uint8_t *restrict in, size_t *restrict in_pos, size_t in_size, uint8_t *restrict out, size_t *restrict out_pos, size_t out_size, <a class="el" href="base_8h.html#aa92efcbf3cecfcac79c81fc645fce77e">lzma_action</a> action)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type of a function to do some kind of coding work (filters, Stream, Block encoders/decoders etc.). Some special coders use don't use both input and output buffers, but for simplicity they still use this same function prototype. </p>

</div>
</div>
<a id="ad3f7c71e8c7f980775ba05444bf5ad89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f7c71e8c7f980775ba05444bf5ad89">&#9670;&nbsp;</a></span>lzma_end_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* lzma_end_function) (void *coder, const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *allocator)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a function to free the memory allocated for the coder. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9749605a4202f4b3d4323a41f693c997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9749605a4202f4b3d4323a41f693c997">&#9670;&nbsp;</a></span>lzma_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* lzma_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates memory. </p>

<p class="reference">Referenced by <a class="el" href="index_8c.html#afd62d074a444b4aa4460b5e17bf88fb1">index_dup_stream()</a>, <a class="el" href="index_8c.html#a4d66ed517249432ce5882a232b2a72c4">index_stream_init()</a>, <a class="el" href="stream__encoder__mt_8c.html#a8eecf683f4621bd503be1b46300f0054">initialize_new_thread()</a>, and <a class="el" href="common_8h.html#a83455498798efe8409f8b9f11a77b2aa">lzma_strm_init()</a>.</p>

</div>
</div>
<a id="a54c976bb0fab08d506aadacd45936f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c976bb0fab08d506aadacd45936f63">&#9670;&nbsp;</a></span>lzma_attribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* lzma_attribute </td>
          <td>(</td>
          <td class="paramtype">(__malloc__)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates memory and zeroes it (like calloc()). This can be faster than <a class="el" href="common_8h.html#a9749605a4202f4b3d4323a41f693c997" title="Allocates memory. ">lzma_alloc()</a> + memzero() while being backward compatible with custom allocators. </p>

<p class="reference">Referenced by <a class="el" href="version_8h.html#ac080c58f8b391c7ee14028ce785e76a3">lzma_version_string()</a>.</p>

</div>
</div>
<a id="a5505ba477682a9fa6009b54540c6f9d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5505ba477682a9fa6009b54540c6f9d0">&#9670;&nbsp;</a></span>lzma_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lzma_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees memory. </p>

<p class="reference">References <a class="el" href="structlzma__allocator.html#ad13c4f1e9722489eeac6c7f8c3e14306">lzma_allocator::free</a>, and <a class="el" href="structlzma__allocator.html#aab293a5007a93299cc97ee8b5fb81268">lzma_allocator::opaque</a>.</p>

<p class="reference">Referenced by <a class="el" href="index_8c.html#a1c6c18e88a9698fbe749a410a22714a8">index_stream_end()</a>, <a class="el" href="base_8h.html#a854ff37464ae1225febf14db1af43308">lzma_end()</a>, <a class="el" href="index_8c.html#a5c19c45d7252855d8428babb6769f2bd">lzma_index_end()</a>, and <a class="el" href="common_8h.html#ae000b50b68fda291c15fb61cde902dcc">lzma_next_end()</a>.</p>

</div>
</div>
<a id="a83455498798efe8409f8b9f11a77b2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83455498798efe8409f8b9f11a77b2aa">&#9670;&nbsp;</a></span>lzma_strm_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a> lzma_strm_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlzma__stream.html">lzma_stream</a> *&#160;</td>
          <td class="paramname"><em>strm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates strm-&gt;internal if it is NULL, and initializes *strm and strm-&gt;internal. This function is only called via lzma_next_strm_init macro. </p>

<p class="reference">References <a class="el" href="structlzma__stream.html#a4eb2f3e87e32cc4bea613898b0bd353f">lzma_stream::allocator</a>, <a class="el" href="structlzma__stream.html#a209da54c2fb5dea40ad011c8408300d0">lzma_stream::internal</a>, <a class="el" href="common_8h.html#a9749605a4202f4b3d4323a41f693c997">lzma_alloc()</a>, <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6ea567e1464feca03900a5425fb45b2f5b6">LZMA_MEM_ERROR</a>, <a class="el" href="common_8h.html#a1fca27f3d292f89fffbf7162d34a5bc3">LZMA_NEXT_CODER_INIT</a>, <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6ea2dac8d451cb38da8550653d0d7be4ec2">LZMA_PROG_ERROR</a>, and <a class="el" href="structlzma__internal__s.html#a5bdb142bf9982fbbc7f5c29156ccab43">lzma_internal_s::next</a>.</p>

</div>
</div>
<a id="a2428177b22ae4ca339dd49d9cb72ddfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2428177b22ae4ca339dd49d9cb72ddfa">&#9670;&nbsp;</a></span>lzma_next_filter_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a> lzma_next_filter_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__filter__info__s.html">lzma_filter_info</a> *&#160;</td>
          <td class="paramname"><em>filters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the next filter in the chain, if any. This takes care of freeing the memory of previously initialized filter if it is different than the filter being initialized now. This way the actual filter initialization functions don't need to use lzma_next_coder_init macro. </p>

<p class="reference">References <a class="el" href="structlzma__filter__info__s.html#a748331bd1a36a9bf3cc57af69582a173">lzma_filter_info_s::id</a>, <a class="el" href="structlzma__next__coder__s.html#a5d536a495df657dd90415a4dad1860a8">lzma_next_coder_s::id</a>, <a class="el" href="structlzma__filter__info__s.html#ac5e483e8fcaa10f1c0a1111b36db1bac">lzma_filter_info_s::init</a>, <a class="el" href="common_8h.html#a4e5a35bc05ca572acdae55a294c8cc89">lzma_next_coder_init</a>, and <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe">LZMA_OK</a>.</p>

</div>
</div>
<a id="aaa9217b1205dd81f29363b4df1155152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9217b1205dd81f29363b4df1155152">&#9670;&nbsp;</a></span>lzma_next_filter_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6e">lzma_ret</a> lzma_next_filter_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__filter.html">lzma_filter</a> *&#160;</td>
          <td class="paramname"><em>reversed_filters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the next filter in the chain, if any. This checks that the application is not trying to change the Filter IDs. </p>

<p class="reference">References <a class="el" href="structlzma__next__coder__s.html#a5d536a495df657dd90415a4dad1860a8">lzma_next_coder_s::id</a>, <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6eac003781ccb81bbd5578e29abed8a8cfe">LZMA_OK</a>, <a class="el" href="base_8h.html#a8494e0457e1463d6d2b6836018d87b6ea2dac8d451cb38da8550653d0d7be4ec2">LZMA_PROG_ERROR</a>, and <a class="el" href="vli_8h.html#a5a4b28254a30c859018b896ed371d69a">LZMA_VLI_UNKNOWN</a>.</p>

</div>
</div>
<a id="ae000b50b68fda291c15fb61cde902dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae000b50b68fda291c15fb61cde902dcc">&#9670;&nbsp;</a></span>lzma_next_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lzma_next_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlzma__next__coder__s.html">lzma_next_coder</a> *&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlzma__allocator.html">lzma_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the memory allocated for next-&gt;coder either using next-&gt;end or, if next-&gt;end is NULL, using lzma_free. </p>

<p class="reference">References <a class="el" href="structlzma__next__coder__s.html#a1f7d78a02759dc08ce1781816128a728">lzma_next_coder_s::coder</a>, <a class="el" href="structlzma__next__coder__s.html#a9c7f8bdf058d498a3de54730f1fa2ac1">lzma_next_coder_s::end</a>, <a class="el" href="structlzma__next__coder__s.html#a8de5f47b0ff5783c2ad24241e7d540d7">lzma_next_coder_s::init</a>, <a class="el" href="structlzma__stream.html#a209da54c2fb5dea40ad011c8408300d0">lzma_stream::internal</a>, <a class="el" href="common_8h.html#a5505ba477682a9fa6009b54540c6f9d0">lzma_free()</a>, <a class="el" href="common_8h.html#a1fca27f3d292f89fffbf7162d34a5bc3">LZMA_NEXT_CODER_INIT</a>, and <a class="el" href="coder_8c.html#a048a6ae6a7da50de565b15d52ea9fafe">strm</a>.</p>

<p class="reference">Referenced by <a class="el" href="base_8h.html#a854ff37464ae1225febf14db1af43308">lzma_end()</a>.</p>

</div>
</div>
<a id="a9ffbf0181223d38d596508a3b47488b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ffbf0181223d38d596508a3b47488b0">&#9670;&nbsp;</a></span>lzma_bufcpy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t lzma_bufcpy </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *restrict&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *restrict&#160;</td>
          <td class="paramname"><em>in_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>in_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *restrict&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *restrict&#160;</td>
          <td class="paramname"><em>out_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>out_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy as much data as possible from in[] to out[] and update *in_pos and *out_pos accordingly. Returns the number of bytes copied. </p>

<p class="reference">Referenced by <a class="el" href="lz__decoder_8h.html#ae4695051f81069a5b17c5cb88912e545">dict_write()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
